<!DOCTYPE html>
<html>

<head>
  <title>Kandy | Make a Video Call</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="+O7O2ijGu7o8DIoQylQLtBDBp6TRQ9t6wxGKGItVsf+QDrRFx9wUcW38p6a00ZYpEcqCojvQRiOzddM36gyyUg==" />
  <link rel="shortcut icon" type="image/x-icon" href="http://dev.kandy.io:3000/assets/favicon-3da99d2536c9fa570157780f5d5f6f0d.ico" />

  <!--Load Bootstrap CSS (optional)-->
  <link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
  <link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css" />

  <!--Load Kandy JS files -->
  <script src="https://code.jquery.com/jquery-1.7.2.min.js"></script>
  <script src="https://kandy-portal.s3.amazonaws.com/public/javascript/kandy/2.3.0/kandy.js"></script>

  <!--Load Pace AJAX Progress Bar (optional)-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
  <link rel="stylesheet" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.css" />

  <script src="./js/patient.js" charset="utf-8"></script>
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-xs-8 col-xs-offset-2" id="activity-container">
        <div id="app-details">
          <h1 class="h2">
            Quick Start Sample App: Make a Video Call
          </h1>
          <p>
            This sample application demonstrates the code for initiating a video call with Kandy.
          </p>
        </div>

        <form id="login-form" class="simple_form form-horizontal" novalidate="novalidate" action="" accept-charset="UTF-8" method="post">
          <input name="utf8" type="hidden" value="&#x2713;" />
          <input type="hidden" name="authenticity_token" value="M9VGBsWJnG/wuIqCFeECv9PQjka04LXVBR6CRaGKvfJbNTyZKpMzpKFIpzRrZJ8i0turQF5zKIx1ettqwNO+Xw==" />
          <div class="form-group string required quick_start_login_api_key">
            <label class="string required col-sm-3 control-label" for="api_key">
              <abbr title="required">*</abbr> Project API Key</label>
            <div class="col-sm-9">
              <input id="api_key" name="api_key" class="string required form-control" type="text" />
            </div>
          </div>
          <div class="form-group string required quick_start_login_username">
            <label class="string required col-sm-3 control-label" for="username">
              <abbr title="required">*</abbr> Username</label>
            <div class="col-sm-9">
              <input id="username" name="username" class="string required form-control" type="text" />
            </div>
          </div>
          <div class="form-group password required quick_start_login_password">
            <label class="password required col-sm-3 control-label" for="password">
              <abbr title="required">*</abbr> Password</label>
            <div class="col-sm-9">
              <input id="password" name="password" class="password required form-control" type="password" />
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-offset-3 col-sm-9">
              <input type="submit" name="commit" value="Login" id="login-btn" class="btn btn-success" />
            </div>
          </div>
        </form>

        <div class="hidden" id="logged-in">
          <hr />
          <div class="clearfix">
            <p class="h4 pull-left">
              <strong>Hello
                <span class="username"></span>
              </strong>
            </p>
            <button class="btn btn-danger pull-right" id="logout-btn">Logout</button>
          </div>
          <hr />

          <div id="video-container">
            <h3>
              Video
            </h3>
            <div class="row">
              <div class="col-sm-6">
                <div class="video" id="incoming-video"></div>
              </div>
              <div class="col-sm-6">
                <div class="video" id="outgoing-video"></div>
              </div>
            </div>
          </div>
          <hr />
          <div id="call-form">
            <h4>
              Make a Call
            </h4>
            <p id="username-calling"></p>
            <div class="form-group call-initializer">
              <label for="user_to_call">Enter Callee Username</label>
              <input type="text" name="user_to_call" id="user_to_call" class="form-control" placeholder="name@company.com" />

            </div>
            <div class="form-group call-initializer">
              <button class="btn btn-success" id="initialize-call-btn">Call</button>
            </div>
            <div class="form-group call-terminator hidden">
              <button class="btn btn-danger" id="initialize-end-btn">End Call</button>
            </div>
          </div>
          <div class="hidden" id="call-connected">
            <h4>
              Call Connected
            </h4>
            <p id="username-connected"></p>
            <div class="btn-toolbar">
              <button class="btn btn-danger" id="end-call-btn">End Call</button>
              <button class="btn btn-warning" id="hold-call-btn">Hold Call</button>
              <button class="btn btn-success hidden" id="resume-call-btn">Resume Call</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
